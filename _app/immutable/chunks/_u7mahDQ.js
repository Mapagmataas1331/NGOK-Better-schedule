import{w as S,x as O,A as D,B as R,C as U,D as W,E as G,F as J,G as K,U as Z,k as z,H as Q,f as w,y as L,p as X,I as Y,g as $,e as ee,a as ne,J as te,K as H}from"./CHILHeLz.js";import{q as se,d as I,a as k,h as re,m as ie,i as ue,u as oe}from"./42UYTaT9.js";import{v as V,w as fe,o as ce}from"./BCILilgs.js";function le(e,n,r){S&&O();var i=e,u=Z,f,c=D()?R:U;W(()=>{c(u,u=n())&&(f&&G(f),f=J(()=>r(i)))}),S&&(i=K)}function we(e,n,r=n){var i=D();se(e,"input",u=>{var f=u?e.defaultValue:e.value;if(f=E(e)?C(f):f,r(f),i&&f!==(f=n())){var c=e.selectionStart,h=e.selectionEnd;e.value=f??"",h!==null&&(e.selectionStart=c,e.selectionEnd=Math.min(h,e.value.length))}}),(S&&e.defaultValue!==e.value||z(n)==null&&e.value)&&r(E(e)?C(e.value):e.value),Q(()=>{var u=n();E(e)&&u===C(e.value)||e.type==="date"&&!u&&!e.value||u!==e.value&&(e.value=u??"")})}function E(e){var n=e.type;return n==="number"||n==="range"}function C(e){return e===""?null:+e}function de(e,n){var r=I(),i=w(r);le(i,()=>n.children,u=>{var f=I(),c=w(f);V(c,()=>n.children??L),k(u,f)}),k(e,r)}function Ie(e,n){X(n,!0);let r=re(n,"to",3,"body");const i=Y();let u=ee(f);function f(){if(!ce||n.disabled)return null;let d=null;return typeof r()=="string"?d=document.querySelector(r()):(r()instanceof HTMLElement||r()instanceof DocumentFragment)&&(d=r()),d}let c;function h(){c&&(oe(c),c=null)}fe([()=>$(u),()=>n.disabled],([d,b])=>{if(!d||b){h();return}return c=ie(de,{target:d,props:{children:n.children},context:i}),()=>{h()}});var v=I(),a=w(v);{var y=d=>{var b=I(),x=w(b);V(x,()=>n.children??L),k(d,b)};ue(a,d=>{n.disabled&&d(y)})}k(e,v),ne()}function ke(e,n){const r=[];for(let i=0;i<e.length;i+=n)r.push(e.slice(i,i+n));return r}function ye(e,n){return e>=0&&e<n.length}function xe(e,n,r=!0){if(!(e.length===0||n<0||n>=e.length))return e.length===1&&n===0?e[0]:n===e.length-1?r?e[0]:void 0:e[n+1]}function Me(e,n,r=!0){if(!(e.length===0||n<0||n>=e.length))return e.length===1&&n===0?e[0]:n===0?r?e[e.length-1]:void 0:e[n-1]}function Te(e,n,r,i=!0){if(e.length===0||n<0||n>=e.length)return;let u=n+r;return i?u=(u%e.length+e.length)%e.length:u=Math.max(0,Math.min(u,e.length-1)),e[u]}function Ee(e,n,r,i=!0){if(e.length===0||n<0||n>=e.length)return;let u=n-r;return i?u=(u%e.length+e.length)%e.length:u=Math.max(0,Math.min(u,e.length-1)),e[u]}function Ce(e,n,r){const u=n.length>1&&Array.from(n).every(a=>a===n[0])?n[0]:n,f=r?e.indexOf(r):-1;let c=ae(e,Math.max(f,0));u.length===1&&(c=c.filter(a=>a!==r));const v=c.find(a=>a==null?void 0:a.toLowerCase().startsWith(u.toLowerCase()));return v!==r?v:void 0}function ae(e,n){return e.map((r,i)=>e[(n+i)%e.length])}function Se(...e){return e.filter(Boolean).join(" ")}const P=typeof document<"u";function q(e){const n=te(e);function r(u){P&&n.set(u)}function i(u){P&&n.update(u)}return{subscribe:n.subscribe,set:r,update:i}}let B=0;function ge(){const e=q([]),n=q([]);function r(s){e.update(t=>[s,...t])}function i(s){var A;const{message:t,...o}=s,g=typeof(s==null?void 0:s.id)=="number"||s.id&&((A=s.id)==null?void 0:A.length)>0?s.id:B++,p=s.dismissable===void 0?!0:s.dismissable,l=s.type===void 0?"default":s.type;return H(e).find(M=>M.id===g)?e.update(M=>M.map(T=>T.id===g?{...T,...s,id:g,title:t,dismissable:p,type:l,updated:!0}:{...T,updated:!1})):r({...o,id:g,title:t,dismissable:p,type:l}),g}function u(s){if(s===void 0){e.update(t=>t.map(o=>({...o,dismiss:!0})));return}return e.update(t=>t.map(o=>o.id===s?{...o,dismiss:!0}:o)),s}function f(s){if(s===void 0){e.set([]);return}return e.update(t=>t.filter(o=>o.id!==s)),s}function c(s,t){return i({...t,type:"default",message:s})}function h(s,t){return i({...t,type:"error",message:s})}function v(s,t){return i({...t,type:"success",message:s})}function a(s,t){return i({...t,type:"info",message:s})}function y(s,t){return i({...t,type:"warning",message:s})}function d(s,t){return i({...t,type:"loading",message:s})}function b(s,t){if(!t)return;let o;t.loading!==void 0&&(o=i({...t,promise:s,type:"loading",message:t.loading}));const g=s instanceof Promise?s:s();let p=o!==void 0;return g.then(l=>{if(l&&typeof l.ok=="boolean"&&!l.ok){p=!1;const _=typeof t.error=="function"?t.error(`HTTP error! status: ${l.status}`):t.error;i({id:o,type:"error",message:_})}else if(t.success!==void 0){p=!1;const _=typeof t.success=="function"?t.success(l):t.success;i({id:o,type:"success",message:_})}}).catch(l=>{if(t.error!==void 0){p=!1;const _=typeof t.error=="function"?t.error(l):t.error;i({id:o,type:"error",message:_})}}).finally(()=>{var l;p&&(u(o),o=void 0),(l=t.finally)==null||l.call(t)}),o}function x(s,t){const o=(t==null?void 0:t.id)||B++;return i({component:s,id:o,...t}),o}function F(s){n.update(t=>t.filter(o=>o.toastId!==s))}function N(s){if(H(n).find(o=>o.toastId===s.toastId)===void 0){n.update(o=>[s,...o]);return}n.update(o=>o.map(g=>g.toastId===s.toastId?s:g))}function j(){e.set([]),n.set([])}return{create:i,addToast:r,dismiss:u,remove:f,message:c,error:h,success:v,info:a,warning:y,loading:d,promise:b,custom:x,removeHeight:F,setHeight:N,reset:j,toasts:e,heights:n}}const m=ge();function me(e,n){return m.create({message:e,...n})}const he=me,Ae=Object.assign(he,{success:m.success,info:m.info,warning:m.warning,error:m.error,custom:m.custom,message:m.message,promise:m.promise,dismiss:m.dismiss,loading:m.loading}),He=e=>({subscribe:e});export{Ie as P,Ee as a,we as b,m as c,Se as d,ke as e,Te as f,Ce as g,ye as i,le as k,xe as n,Me as p,Ae as t,He as u};
